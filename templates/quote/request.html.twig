{# messages flash #}
{% for type, messages in app.flashes %}
  {% for message in messages %}
    <div class="alert alert-{{ type }}">{{ message|raw }}</div>
  {% endfor %}
{% endfor %}

{# erreurs globales du formulaire #}
{{ form_errors(form) }}

{{ form_start(form, {
  action: path('app_quote', {'_locale': app.request.locale}),
  method: 'POST',
  attr: {
    class: 'row contact_form',
    id: 'quoteForm',            # <— change l’ID pour éviter l’AJAX Colorlib
    'data-ajax': 'off',
    novalidate: 'novalidate'
  }
}) }}

  <div class="col-md-6">
    <div class="form-group">
      {{ form_widget(form.name,    {attr: {class:'form-control', placeholder: 'quote.form.name'|trans }}) }}
      {{ form_errors(form.name) }}
    </div>
    <div class="form-group">
      {{ form_widget(form.email,   {attr: {class:'form-control', placeholder: 'quote.form.email'|trans }}) }}
      {{ form_errors(form.email) }}
    </div>
    <div class="form-group">
      {{ form_widget(form.phone,   {attr: {class:'form-control', placeholder: 'quote.form.phone'|trans }}) }}
      {{ form_errors(form.phone) }}
    </div>
    <div class="form-group">
      {{ form_widget(form.company, {attr: {class:'form-control', placeholder: 'quote.form.company'|trans }}) }}
      {{ form_errors(form.company) }}
    </div>
  </div>

  <div class="col-md-6">
    <div class="form-group">
      {{ form_widget(form.pack,   {attr: {class:'form-control'}}) }}
      {{ form_errors(form.pack) }}
    </div>
    <div class="form-group">
      {{ form_widget(form.budget, {attr: {class:'form-control'}}) }}
      {{ form_errors(form.budget) }}
    </div>
    <div class="form-group">
      {{ form_widget(form.message, {attr: {class:'form-control', rows:4, placeholder: 'quote.form.message'|trans }}) }}
      {{ form_errors(form.message) }}
    </div>
  </div>

  {# champs techniques #}
  {{ form_widget(form.render_ts) }}

  {# honeypot HTML brut — ne PAS utiliser form_row/form_widget, ni label #}
  <input type="text"
         name="quote[{{ honeypot_name }}]"
         value=""
         class="hp-trap"
         autocomplete="off"
         tabindex="-1"
         aria-hidden="true" />

  {# CSRF token explicit — indispensable #}
  {{ form_row(form._token) }}

  <div class="col-md-12 text-right">
    <button type="submit" class="primary_btn"><span>{{ 'quote.form.submit'|trans }}</span></button>
  </div>

{# on a déjà rendu le _token → pas de rendu automatique du reste #}
{{ form_end(form, { render_rest: false }) }}
